= Modul Tabellen
:doctype: article
:icons: font
:imagesdir: ../images/
:web-xmera: https://xmera.de

Tabellen dienen im xmera Omnia der Erfassung von Listen, die zum einen der Dokumentation dienen können, wie z.B. Gerätelisten, oder der Abfrage von Werten, wie z.B. eine Schutzbedarfsanalyse, die wiederum durch Berechnungen und Verknüpfungen weitere Funktionen bieten kann.

Der Tabellenaufbau, das heißt die einzelnen Tabellenspalten und ggf. die Berechnungen werden durch den Administrator festgelegt. Der Anwender legt dann Datenblätter an, die auf den administrierten Tabellen basieren.

Ist das Modul Tabellen in einem Objekt aktiviert, kommt der Anwender durch klicken auf den Reiter _Tabellen_ auf die Übersichtsseite der Tabellen.

image::anwender/modul_tabellen_uebersicht.png[]

Auf der Übersichtsseite werden die bereits bestehenden Datenblätter als Kacheln und in der Sidebar (die durch den roten Pfeil ein- und ausgeklappt werden kann) dargestellt. 

Eine Kachel enthält den Datenblattnamen und wenn vorhanden die Beschreibung des Datenblatts sowie das Berechnungsergebnis.

In der Sidebar sind die Datenblätter nach der zu grunde liegenden Tabelle sortiert. Dem Datenblatt unterlager wird das Berechnungsergebnis dargestellt. durch Klicken auf den Datenblattnamen gelangt man auf die Bearbeitungsseite des Datenblatts. Durch Klicken auf den Button image:anwender/modul_tabellen_button_neues-datenblatt.png[] kommt man in die Erfassungsmaske für ein neues Datenblatt.

== Datenblatt erstellen und bearbeiten

Datenblatt erstellen:: 

Mit dem Button image:anwender/modul_tabellen_button_neues-datenblatt.png[] kann der Anwender aus verschiedenen Masken heraus ein neues Datenblatt erstellen. er kommt auf folgende Seite. +
+
image:anwender/modul_tabellen_neues_datenblatt.png[]
+
Dem Datenblatt muss einen Namen erhalten. Die Beschreibung des Datenblatts ist optional. Zur Erstellung der Beschreibung steht die Wiki-Toolbar zur Verfügung. +
Die Tabelle, auf der das Datenblatt beruht, ist wiederum ein Pflichtfeld. Mit dem Button image:anwender/modul_tabellen_button_anlegen.png[] wird das Datenblatt erstellt und man kommt auf die Übersichtsseite des Datenblatts.

Datenblatt bearbeiten:: 

Das Datenblatt sind neben den Eigenschaften des Datenblatts die erfassten Zeilen mit den erfassten Spaltenwerten.+
+
image:anwender/modul_tabellen_datenblatt.png[]
+
Durch klicken auf den Button image:anwender/modul_tabellen_button_neue-zeile.png[] oder durch klicken auf den Button image:anwender/modul_aufgaben_button_bearbeiten.png[] im rechten Teil der Zeile wird die Bearbeitungsmakse für die neue bzw. die gewählte Zeile geöffnet. +
+
image:anwender/modul_tabellen_zeile_bearbeiten.png[]
+
Hier sind die Attribute gelistet und die Werte können entsprechend der Feldtypen bearbeitet werden. +
+
Mit Klicken des Buttons image;anwender/modul_tabellen_button_anlegen.png[] werden die Werte übernommen. +
+
Weiter ist im linken Bereich jeder Zeile der Button image:anwender/modul_aufgaben_button-loeschen.png[], mit dem die Zeile gelöscht werden kann.

== Berechnungsfunktionen

Das Modul Tabellen besitzt die Möglichkeit Tabellenberechnungen durchzuführen. Die Berechnungen sind durch die Administration zu definieren. Wenn solch eine Berechnung für die Tabelle angelegt ist, wird, wie im Folgenden Beispiel zu sehen, das Berechnungsergebnis oberhalb der Tabelle angezeigt.

image::anwender/modul_tabellen_berechnung.png[]

Das Beispiel zeigt eine Schutzbedarfsfeststellung, bei der per Maximum-Funktion die Ergebnisse der Zeilen der Tabelle zusammengefasst werden.

== Assoziierte Tabellen

xmera Omnia bietet über die Funktionalität der Aggregation von assoziierten Tabellen Vererbungen abzubilden. Assoziierte Tabellen sind Datenblätter mit gleichem Tabellentyp in miteinander Verknüpften Tabellen. Wird in der Berechnungskonfiguration die Option _aggregation von assoziierten Tabellen_ gewählt, wird eine neues Objekt mit dem Berechnungsnamen dem Datenblatt zugeordnet. (siehe Schutzbedarfsfeststellung in Sidebar im nächsten Bild) +
In diesem Element werden die Ergebnisse der Client-Datenblätter und das Berechnungsergebnis der Analyse im Objekt, wie im folgenden Bild zu sehen, in der Rubrik _einzelne Berechnungsergebnisse_ angezeigt.

image::anwender/modul_tabellen_assosiiert.png[]

Die Zusammenfassung der Ergebnisse aus allen assoziierten Datenblättern wird in der Zeile _Berechnete Ergebnisse_ dargestellt.

Mit dem Button _Übernehmen_ im _Berechneten Ergebnis_ wird das Ergebnis in die Zeile _Berechnung_ übernommen.

[IMPORTANT]
*Wichtig:* Erst mit der Übernahme bzw. mit der manuellen Pflege der _Berechnung_ steht das Ergebnis den verknüpften Objekten zur Verfügung.

Das Ergebnis der Berechnung kann manuell verändert werden. Hierzu lassen sich über den Button image:anwender/modul_aufgaben_button_bearbeiten.png[] anpassen. Bei einer manuellen Bearbeitung ist zwingend die Bemerkung zu füllen.

[NOTE]
*Notiz:* Im xmera Omnia wird das Ergebnis der Schutzbedarfsfeststellung auf der Übersichtsseite des Objekt dargestellt.
