= Dokumentenmanagement (DMS)
:doctype: article
:icons: font
:imagesdir: ../images/
:web-xmera: https://xmera.de

== Funktionen des Dokumentenmanagement

Das DMS ist das Umfangreichste Modul zur Verwaltung von Dokumenten. Es beinhaltet zahlreiche Funktionen zu managen von Dokumenten.

1. Ordnerstruktur
2. Verknüpfungen
3. Dokumentenstatus
4. Metadaten
5. Versionierung
6. Freigabe- / Genehmigungsprozess
7. Berechtigungssteuerung
8. Benachrichtigung

Damit bietet es die notwendigen Funktionen um das Dokumentenmanagement abbilden auch für komplexere Aufgaben abbilden zu können.

Basis ist die Dokumentenliste über die die Dokumente dargestellt und gefiltert werden können.

image:anwender-handbuch/modul_dms_uebersicht.png[]

Diese Übersicht kann zum einen über das Topmenü, mit der Darstellung aller Dokumente der Objekte, oder über das Objektmenü, mit der Darstellung der Dokumente im Objekt.

Es gibt in der Übersicht die Filter und Darstellungsoptionen mit denen nach Dokumenten gesucht werden kann.

Neue Datei:: 

Eine neue Datei wird über den Button image:anwender-handbuch/button_neue-datei.png[] angelegt. Zunächst erscheint ein Fenster

image:anwender-handbuch/modul_dms_neue-datei.png[]

Hier kann über den Button image:anwender-handbuch/button_durchsuchen.png[] der Dateiexplorer des eigenen Rechners aufgerufen und die hochzuladenden Dateien hinzugefügt werden oder durch drag&drop Dateien hinzugefügt werden. Mit Klick auf den Button image:anwender-handbuch/button_upload.png[] werden die erscheint folgende Maske zum Erfassen der Metadaten der Datei.

image:anwender-handbuch/modul_dms_hochgeladene-datei.png[]

In dieser Maske werden die Metadaten wie ein beschreibender Text, die Version, ein Kommentar des Bearbeiters sowie _eigene Felder_ die dem DMS durch den Administrator hinzugefügt wurden. +
Mit dem Klick auf den Button image:anwender-handbuch/button_upload.png[] wird die Datei hochgeladen. Werden mehrere Dateien hochgeladen, wird für jede Datei untereinander angeordnet eine gesonderte Maske aufgeblendet.

Verknüpfung:: 

Im DMS können neben Dateien auch Verknüpfungen erstellt in das DMS eingebunden werden. Eine Verknüpfung kann im 3-Punkte-Menü 

image:anwender-handbuch/modul_dms_3-punkte-menue.png[]

über den Menüpunkt _Verknüpfung anlegen_ angelegt werden. Es erscheint folgende Maske: 

image:anwender-handbuch/modul_dms_verknuepfung_intern.png[]

Es wird unterschieden zwischen internen und externen Verknüpfungen. Interne Verknüpfungen zeigen auf Dateien, die in anderen Objekten abgelegt wurden. Entsprechend ist in diesem Fall das Quellobjekt und die Quelldatei zu wählen. Quellordner und Name werden automatisch übernommen.

Externe Verknüpfungen sind verbindungen zu externen Servers, die über eine URL erreicht werden können. Entsprechend ändert sich die Maske bei der Auswahl _Extern_ wie folgt.

image:anwender-handbuch/modul_dms_verknuepfung_extern.png[]

Hier können die URL und der Name der Datei gepflegt werden.

Durch Klicken auf den Button image:anwender-handbuch/button_anlegen.png[] wird die Verknüpfung in der DMS-Dateiliste angezeigt.

Benachrichtigung:: 

xmera Omnia bietet die Möglichkeit sich über Änderungen in Ordnern per Mail informieren zu lassen. Hierzu kann über das 3-Punkte_Menü die Beobachtung ein bzw. über Beobachtung aus wieder ausgeschaltet werden.

[NOTE]
*Notiz:* Die E-Mail wird an die im User-Profil angegebene E-Mail-Adresse versand.

Löschen von Dokumenten::

Ein löschen von Dokumenten ist aus der Dokumentenliste möglich. In der Dokumentenleiste kann, bei entsprechender Berechtigung über den Button image:anwender-handbuch/button_loeschen.png[] das Dokument gelöscht werden. 

Löschen von Dateien / Versionen:: 

Wird das Dokument über das 3-Punkte-Menü die Bearbeitung aufgerufen kann eine  Version gelöscht werden. Das Löschen erreicht man über das 3-Punkte-Menü neben der Version. 
Wurde ein Datei über eine Genehmigungs-Workflow freigegeben worden, so kann das Dokument nicht gelöscht werden. Hier besteht nur die Möglichkeit die Version zu sperren.
Eine Datei, bei der aktuell der Freigabeprozess läuft, kann nicht gelöscht noch gesperrt werden. 

Sperren von Dateien:: 

Mit dem sperren von Dokumenten wird verhindert, dass eine Datei bearbeitet werden kann. Das Sperren erfolgt entweder über die Auswahl image:anwender-handbuch/button_sperren.png[] oder über den gleich bezeichneten Button im oberen rechten Bereich der Bearbeitungsmaske des Dokuments. +
Ist ein Dokument gesperrt, so wird im Datumsfeld das Symbol image:anwender-handbuch/modul_dms_dokument_gesperrt.png[] angehängt und die Buttons für das Sperren werden zum Button image:anwender-handbuch/button_entsperren.png[]. +
Über die Button image:anwender-handbuch/button_entsperren.png[] kann das Dokument wieder entsperrt werden.

Metadaten (Eigene Felder):: 

xmera Omnia bietet die Möglichkeit in der Administration eigene Felder zu jedem Dokument hinzuzufügen. Im Beispiel in dieser Dokumentation sind es, wie im folgenden Bild zu sehen, die Vertraulichkeitsklasse und der Bearbeitungsstatus. +
+
image:anwender-handbuch/modul_dms_eigene_felder.png[]
+
Diese eigenen Felder ermöglichen weitere Klassifizierungs- und Strukturierungsmöglichkeiten, nach denen in der Dokumentenliste auch gefiltert / gruppiert werden kann.

== Ordnerstruktur

Durch eine Ordnerstruktur lassen sich die Dokumente in der Dokumentenliste strukturieren. Im DMS lassen jedem Ordner aber auch Berechtigungen vergeben, die es ermöglichen, einzelne Ordner nur einer eingegrenzten Nutzergruppe zugänglich zu machen.

Ordner anlegen:: 

Angelegt werden Ordner über klicken des Buttons image:anwender-handbuch/button_neuer_ordner.png[]. Es erscheint folgende Erfassungsmaske: +
+
image:anwender-handbuch/modul_dms_neuer_ordner.png[]
+
Neben dem Datum kann eine Beschreibung, sowie weiter individuelle Einträge (_eigenen Felder_) dem Ordner zugeordnet werden. +
+
Weiter können die Zugriffe auf den Ordner durch die Auswahlfelder im Bereich _Zugriff erlaubt für_ eingeschränkt werden. Sind keine Haken gesetzt, wird die Zugriff durch die Rollenberechtigungen bestimmt. Die Berechtigung kann durch Auswahl einzelner Rollen oder Benutzer weiter eingeschränkt werden. +
Benutzer werden zunächst nicht angezeigt. Durch Klicken auf den Button image:anwender-handbuch/button_benutzer_suchen.png[] können Benutzer / Gruppen des Objekts hinzugefügt werden.

Navigieren:: 

Durch Klicken auf den Ordnernamen in der Dokumentenliste gelangt man in die Liste des Ordners. +
+
image:anwender-handbuch/modul_dms_ordnerstruktur.png[]
+
Angezeigt wird der aktuelle Ordner in der Zeile unterhalb des Objektmenüs. In dem Beispiel oben ist es Dateien / Protokolle / Lenkungskreis. Durch Klicken auf den Ordnernamen in der Ordnerstruktur kann man direkt in die Dokumentenliste des entsprechenden Ordners springen.

Ordner und Dateien verschieben und kopieren:: 

Neue Dokumente werden immer dem Ordner zugeordnet, von dem aus eine neue Datei hinzugefügt wird. Eine Datei, aber auch ein ganzer Ordner lassen sich im Nachgang auch verschieben oder kopieren. Im 3-Punkte-Menu in der Zeile des Ordner oder der Datei, die verschoben werden soll, wählt man den Button image:anwender-handbuch/button_kopieren_verschieben.png[]. Es erscheint folgende Maske: +
+
image:anwender-handbuch/modul_dms_kopieren_verschieben.png[]
+
In der Maske kann das Zielobjekt und der Zielordner gewählt werden, in das das Dokument / der Ordner verschoben bzw. kopiert werden soll. Die Auswahl, ob es sich um eine Kopie oder ob es ich um ein Verschieben handelt, wird durch Klicken auf den abschließen Button image:anwender-handbuch/button_kopieren_rot.png[] oder image:anwender-handbuch/button_verschieben.png[] festgelegt.

Ordner löschen:: 
Ein Ordner kann mit der Funktion image:anwender-handbuch/button_loeschen.png[] im3-Punkte-Menu in der Zeile des Ordner, der gelöscht werden soll, durchgeführt werden.

== Versionierung

Ein zentrales Element ist die Versionierung von Dateien. Soll eine Datei verändert werden, so wird diese nicht ersetzt sondern eine neue Version mit den geänderten Daten angelegt. Somit sind die Änderungen in einer Datei immer nachvollziehbar.

Wird ein Dokument erstellt, so wir die erste Version angelegt. Diese Version sollte nur durch die Administration wieder gelöscht werden können. Soll dieses Dokument geändert werden, so wird eine neue Version erstellt. Im folgenden Bild sind im Bearbeitungsfenster des Dokuments 2 Versionen zu sehen.

image:anwender-handbuch/modul_dms_versionierung.png[]

Es können alle Beschreibungen der Dokumentenversionen eingesehen und das dazugehörige Dokument hochgeladen werden. In der Dokumentenliste sind immer nur die aktuell gültigen Inhalte des Dokuments zu sehen.

Soll ein Dokument verändert werden, so muss eine neue Version angelegt werden. Dazu wird durch einen Klicke auf das [+] neben _Neue Version_ das Bearbeitungsfenster geöffnet.

image:anwender-handbuch/modul_dms_neue_version.png[]

In diese Bearbeitungsmaske sind alle Informationen des Dokuments hinterlegt und können bearbeitet werden. Wird keine neue Datei hochgeladen, so wird die Datei der letzten gültigen Version weiter verwendet. Wird eine neue Datei hochgeladen, wird diese Datei der Version zugeordnet.

Mit dem Klick auf den Button image:anwender-handbuch/button_anlegen.png[] wird die Version angelegt.

== Genehmigungs-Workflow

Mit dem Genehmigungs-Workflow bietet xmera Omnia die Möglichkeit Genehmigungsprozesse für Dokumente abzubilden. Hierzu wird 

- ein Workflow festgelegt, in welchen Schritten die Genehmigung zu erfolgen hat
- der Workflow einem Dokument zugeordnet,
- der Freigabeprozess gestartet und
- die Freigabe im Dokument gespeichert.

Diese Schritte werden im Folgenden beschrieben. 

Workflows erstellen:: 

Grundsätzlich werden globale und lokale Workflows unterschieden. Globale Workflows werden im Administrationsbereich von xmera Omnia erstellt und stehen in allen Objekten zur Verfügung. Die lokalen Workflows werden im Konfigurationsbereich des Objekts erstellt und stehen nur dem Objekt zur Verfügung. Die Erstellung eines Workflows ist in beiden Fällen gleich. +
+
Die Erstellung und Pflege von lokaler Genehmigungs-Workflows erfolgt in der Objektkonfiguration im Reiter Genehmigungs-Workflow. +
+
image:anwender-handbuch/modul_dms_lokale_workflows.png[]
+
Hier finden sich die für das Objekt definierten Workflows. Es können über den Button image:anwender-handbuch/button_neuer_genehmigungs_workflow.png[] ein neuer Workflow erstellt, durch Klicken auf den Namen des Workflows in der Liste der Workflow bearbeitet werden oder durch Klicken auf image:anwender-handbuch/button_loeschen.png[] der lokale Workflow gelöscht werden. +
+
[WARNING]
*Warnung:* Ein Workflow kann gelöscht werden, obwohl er bereits einem Dokument zugeordnet wurde. Dieses führt zur Fehlern, die nicht über die Anwendung zu reparieren sind.
+
Wird ein neuer Workflow erstellt, so erscheint folgende Maske: +
+
image:anwender-handbuch/modul_dms_neuer_workflow.png[]
+
Hier wird der Name des Workflows festgelegt und es kann optional als Vorlage ein bestehender Workflow gewählt werden. +
+
Mit dem Button image:anwender-handbuch/button_anlegen.png[] oder durch bearbeiten eines bestehenden Workflows gelangt man in die Bearbeitungsmaske des Workflows. +
+
image:anwender-handbuch/modul_dms_workflow_bearbeiten.png[]
+
In dieser Maske kann zum einen der Name des Workflows verändert werden und es können die Workflow Schritte bearbeitet werden. 
Der Ablauf des Workflows erfolgt in Schritten. Es werden die Genehmiger des 1. Schritts zur Genehmigung/Ablehnung aufgefordert werden. Ist dieser Schritt genehmigt, wird der die Genehmiger des folgenden Schritts zur Genehmigung/Ablehnung aufgefordert. Sind alle Schritte genehmigt, so wird das Dokument als genehmigt klassifiziert. +
+
Mit dem Button image:anwender-handbuch/button_neuer_schritt.png[] wird eine Maske geöffnet, mit der Objektmitglieder einem neuen oder einem bestehenden Schritt hinzugefügt werden können. +
+
image:anwender-handbuch/modul_dms_workflow_neuer_schritt.png[]
+
Hier muss als erstes die Mitglieder der Gruppe gewählt werden, die dem Bearbeitungsschritt zugeordnet werden sollen. Als nächstes ist der Schritt zu wählen, dem diese Mitglieder zugeordnet werden sollen. Bie der Erstellung eines neuen Schritts ist der Name des Schritts neben dem Auswahlfeld zu setzen. +
Mit dem Wählen der Auswahl *_UND_* oder *_ODER_* wird der Schritt erstellt bzw. geändert. Alle Mitglieder die mit einem *_UND_* dem Schritt zugeordnet sind müssen den Schritt genehmigen, damit der Schritt abgeschlossen sind. Alle Mitglieder die mit *_ODER_* dem Schritt zugeordnet sind, sind optional. Sind nur Mitglieder mit *_ODER_* dem Schritt zugeordnet, muss zur Freigabe des Schritts mindestens ein Mitglied den Schritt freigeben. +
+
Durch wiederholen des Schritts image:anwender-handbuch/button_neuer_schritt.png[] können weitere Schritte hinzugefügt werden.

Workflows bearbeiten:: 

Die Bearbeitung teilt sich in 3 Aspekte auf. +
1. Neue Mitglieder zu einem Schritt hinzufügen
2. Mitgliederfunktionen ändern oder löschen
3. Reihenfolge der Schritte verändern

+
*Neue Mitglieder* werden über den Prozess image:anwender-handbuch/button_neuer_schritt.png[] in einen neuen Schritt eingebunden. Der Ablauf entspricht dem Vorgehen beim Erstellen eines neuen Schrittes. Bei dem Hinzufügen wird der Schritt ausgewählt, in dem das Mitglied bzw. die Mitglieder hinzugefügt werden sollen. +
 +
Soll die Auswahl *_UND_* / *_ODER_* für ein Mitglied verändert werden oder soll ein Mitglied aus einem Schritt entfernt werden, so geht man über den Button image:anwender-handbuch/button_bearbeiten.png[] in der Zeile des zu bearbeitenden Schritts. Es öffnet sich die Zeile im Bearbeitungsmodus. +
 +
image:anwender-handbuch/modul_dms_workflow_schritt_bearbeiten.png[]
 +
 +
Hier kann der Name des Schritts angepasst werden, pro Mitglied die Option *_UND_* bzw. *_ODER_* verändert werden oder das Mitglied gelöscht werden. Mit dem Button *Wechseln* wird die Änderung übernommen und mit *Abbrechen* verworfen. +
+
Die Reihenfolge der Schritte kann über eine Drag&Drop Funktion verändert werden. Mit gehaltener Linker Maustaste auf das Symbol image:anwender-handbuch/button_reihenfolge_veraendern.png[] kann die gewählte Zeile verschoben werden. An der Stelle, an der die Maus gelöst wird, wird der Schritt hin verschoben.


Workflows zuordnen:: 

Um einen Workflow zu starten, muss der Workflow zunächst dem Dokument zugeordnet werden. Dieses erfolgt über den Punkt Workflow starten im 3-Punkte-Menü der Dokumentenzeile. +
+
image:anwender-handbuch/modul_dms_dokument_3-p-m_1.png[] +
+
Es erscheint ein Fenster in dem der für die Freigabe benötigte Workflow ausgewählt wird. +
+
image:anwender-handbuch/modul_dms_workflow_waehlen.png[] +
+
Es ist per Dropdown-Menü ein Workflow auszuwählen. Mit _OK_ wird der gewählte Workflow dem Dokument zugeordnet. +
+
Anschließend muss für die Durchführung des Workflowprozess dieser gestartet werden. Hierzu wird wiederum über das 3-Punkte_Menü über den Menüounkt _Start_ der Prozess gestartet. +
+
image:anwender-handbuch/modul_dms_dokument_3-p-m_2.png[] +
+
Der aktuelle Status des Workflowprozesses kann durch klicken auf den Status des Workflows. Es erscheint die Darstellung des Workflowporzesses mit den einzelnen Schritten. +
+
image:anwender-handbuch/modul_dms_workflow_status.png[] +


Workflows freigeben:: 

Ist der Freigabeprozess gestartet wird allen Mitgliedern, die im 1. Schritts auf "Meine Seite" die offenen Genehmigungsworkflows angezeigt. +
+
image:anwender-handbuch/modul_dms_offene_workflows.png[] +
+

Weiter wird xmera Omnia auch eine Mail an die Freigeber des Schritts gesendet. +
+
Eine Freigabe ist im DMS am freizugebenden Dokument möglich. Ein Freigeber erhält im 3-Punkte-Menü in der Dokumentenseite die Auswahl _Genehmigt_ mit der die Freigabe gestartet werden kann. +
+
Wird der Freigabeprozess mit dem image:anwender-handbuch/button_haken.png[] gestartet wird das Freigabemaske geöffnet. +
+
image:anwender-handbuch/modul_dms_workflow_freigabemaske.png[]
+
In dieser Maske kann das Dokument genehmigt, abgelehnt (nur mit Begründung) oder an ein anderes Mitglied delegieren. +
+
Sind die Freigaben für den 1. Schritt abgeschlossen, so beginnt der Prozess für den Folgeschritt. Dieses wird bis zum letzten Schritt fortgesetzt. Ist der letzte Schritt genehmigt, ist das Dokument genehmigt. +
+
Wird ein Workflow _Abgelehnt_ so muss eine neue Version erstellt werden und der Workflow neu gestartet werden.
